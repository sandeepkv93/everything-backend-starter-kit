version: '3'

tasks:
  obs-generate-traffic:
    cmds:
      - go run ./cmd/loadgen run --duration 10s --profile mixed --ci

  obs-validate:
    cmds:
      - go run ./cmd/obscheck run --ci

  grafana:dashboards:generate:
    cmds:
      - bash scripts/grafana/generate_dashboards.sh

  grafana:dashboards:check:
    cmds:
      - bash scripts/ci/run_grafana_dashboards_generate_check.sh

  grafana:dashboards:runtime-check:
    cmds:
      - bash scripts/ci/run_grafana_dashboards_runtime_check.sh
